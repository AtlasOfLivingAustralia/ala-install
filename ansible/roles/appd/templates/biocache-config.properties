######################################################################
# 
# Biocache configuration file
#
# This file has been generated via an ansible script.
#
######################################################################

# The base URL for biocache web services
webservices.root={{ biocache_service_url }}

# Cassandra Config
db=cassandra
cassandra.hosts={{ biocache_db_host }}
cassandra.port={{ biocache_db_port | default('9160') }}
cassandra.pool=biocache-store-pool
cassandra.keyspace=occ
cassandra.max.connections=-1
cassandra.max.retries=6
thrift.operation.timeout=80000

#######################################################
# File system usage
#######################################################

# Directory used to track the status of uploads
upload.status={{ data_dir }}/biocache-upload/status

# Directory used by sandbox functionality to write data files to be ingested
upload.temp={{ data_dir }}/biocache-upload/temp

# Base URL to media files
media.url={{ biocache_service_base_url }}/biocache-media/

# Directory root for images
media.dir={{ data_dir }}/biocache-media/

# The type of media store (none, local, remote or auto)
media.store.type={{ media_store_type | default('auto') }}

# URL instance of image-service to store media
media.store.url={{ media_store_url | default('') }}

# Directory to log deleted row keys to
deleted.file.store={{ data_dir }}/biocache-delete/

# List tool endpoint
list.tool.url={{ lists_service_url | default('') }}

# Whether to enable list tool integration
include.species.lists={{ enable_lists | default('false') }}

#Whether or not to enable SDS checks - currently only suitable for Australia
sds.enabled={{ sds_enabled | default('false') }}

# SDS data file
sds.url={{ biocache_sds_url | default('https://sds.ala.org.au') }}

# The directory to write files to while ingesting data
load.dir={{ data_dir }}/biocache-load/

#######################################################
# External services
#######################################################

# The URL of SOLR services. In the case of embedded SOLR (no for production), this could be a directory path instead
# solrHome=http://localhost:8080/solr
solr.home={{ solr_url }}

# Whether to use HTTP2 connector
solr.usehttp2 {{ solr.usehttp2 |  default(true) }}

# Base URL for registry (collectory) web services
registry.url={{ collectory_url }}/ws

# API key to use to authenticate WS requests
registry.api.key={{ registry_api_key | default('') }}

# If enabled, processing & loading operations will cause an metadata update in the registry
allow.registry.updates={{ allow_registry_updates | default('true') }}

# Base URL for taxon services (BIE)
service.bie.ws.url={{ bie_service_url | default('https://bie-ws.ala.org.au/ws') }}

# Base URL for taxon pages (BIE)
service.bie.ui.url={{ bie_url | default('https://bie.ala.org.au') }}

# Allow service to be disabled via config (enabled by default)
service.bie.enabled={{ bie_service_enabled | default('false') }}

# Base URL for Biocache UI
biocache.ui.url={{ biocache_hub_url }}

#######################################################
# Miscellaneous configuration options
#######################################################

# The URL of layer services
layers.service.url={{ layers_service_url | default('https://spatial.ala.org.au/ws') }}

# To use layers service for sampling
layers.service.sampling={{ layers_service_sampling | default('false') }}

# Used by location processor for associating a country with an occurrence record where only stateProvince supplied and not coordinates are available
default.country={{ default_country | default('') }}

# Specify fields to sample - set to 'none' for no sampling
sample.fields={{ sample_fields | default('none') }}

# Exclude sensitive values for the listed data resources (comma separated list)
exclude.sensitive.values=

# Additional fields to index (used by biocache-store only)
extra.misc.fields=hostFamily,hostGenus,hostSpecificEpithet,hostVernacularName,interceptionClassification
#extraMiscFields=OriginalSeedQuantity_i,AdjustedSeedQuantity_i,CurrentSeedQuantity_i,ViabilitySummary_d

# Max number of threads to use when processing a request 
endemic.query.maxthreads=30

# Base directory for heatmap images
heatmap.output.dir={{ data_dir }}/biocache/heatmap

# AuthService properties to inject
auth.user.details.url={{ userdetails_url }}
auth.user.names.id.path=getUserList
auth.usernames.for.numeric.id.path=getUserListWithIds

# Caches to enable/disable. Comment out the caches that you wish to enable
caches.auth.enabled={{ caches_auth_enabled | default('false') }}
caches.log.enabled={{ caches_log_enabled | default('false') }}
caches.collections.enabled={{ caches_collections_enabled | default('true') }}
caches.layers.enabled={{ caches_layers_enabled | default('false') }}

# Citations disable - for now we can disable them in the future will need a way to customise the source.
citations.enabled=false

# URL for retrieve list of contacts for collection
collection.contacts.url={{ collectory_url }}/ws/collection

# URL for LoggerService
logger.service.url={{ logger_url }}/service/logger/
#######################################################
# Species list integration 
#######################################################

# The species lists to index against
tmp.work.dir={{ data_dir }}/biocache/tmp

# Hub ID for the DigiVol
volunteer.hub.uid={{ volunteer_hub_uid | default('') }}
# Data Provider ID for DigiVol
volunteer.dp.uid={{ volunteer_dp_uid | default('') }}

# User details to SFTP/SCP from upload
uploadUser={{ upload_user | default('') }}
uploadPassword={{ upload_password | default('') }}

# Limit to &facets term count for all queries
facets.max=40

# Limit the default &facets term count. This limits the default facets assigned from facets.json
facets.defaultmax=0

# Default &facet value (true|false). Clients must always set &facet=true when facets are required and this default is false.
facet.default=true

# Autocomplete related caches, it will still work when these are disabled but the cached information will be unavailable.
autocomplete.species.images.enabled=true
autocomplete.species.counts.enabled=true
autocomplete.commonnames.extra.enabled=true

shapefile.tmp.dir={{ data_dir }}/biocache/download/tmp

# URL or path to subgroups JSON configuration
species.subgroups.url={{ species_subgroups_url | default('/data/biocache/config/subgroups.json') }}

qid.wkt.maxPoints={{ qid_wkt_maxPoints | default('50000') }}