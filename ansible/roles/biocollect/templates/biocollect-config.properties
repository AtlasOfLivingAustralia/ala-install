auth.baseURL={{auth_base_url}}
#
# CAS Config
#
security.cas.appServerName=https://{{ biocollect_hostname }}

grails.serverURL={{biocollect_base_url}}
server.serverURL={{biocollect_base_url}}
server.port={{ biocollect_tomcat_server_port | default ('8080', True) }}

enableReporting = true
app.default.hub=ala
biocollect.homepageUrl={{ biocollect_homepage_url | default ('') }}

ecodata.baseURL={{ ecodata_base_url }}
ecodata.baseUrl={{ ecodata_base_url }}
biocache.baseURL={{ biocache_base_url }}
bie.baseURL={{ bie_base_url }}
bieWs.baseURL={{bie_ws_base_url}}
lists.baseURL={{ lists_base_url }}
ala.baseURL={{ ala_baseURL }}
merit.baseURL={{ merit_base_url }}
headerAndFooter.baseURL={{ header_and_footer_baseurl | default('https://www.ala.org.au/commonui-bs2') }}
headerAndFooter.version={{ header_and_footer_version | default('1') }}

upload.images.url={{ biocollect_base_url }}/image?id=
# Add no cache headers to pages generated by controllers
app.view.nocache = true


# Spatial portal config
spatial.baseUrl={{ spatial_base_url }}

ala.image.service.url={{ images_base_url | default('http://images-dev.ala.org.au/') }}
images.baseURL={{ image_service_url | default("https://images.ala.org.au") }}

collectory.service.url={{ collectory_url | default('https://collections.ala.org.au') }}

# Mail config
grails.mail.host={{ mail_host | default('act-ironport-int.csiro.au') }}
grails.mail.port={{ mail_port | default('25') }}
emailFilter={{ mail_filter | default('/[A-Z0-9._%-]+@csiro\.au|chris\.godwin\.ala@gmail.com|christophergodwin@yahoo.com.au/') }}
biocollect.support.email.address = {{ biocollect_support_email }}
biocollect.system.email.replyTo = {{ noreply_email | default( 'biocollect-' + (deployment_env == 'prod') | ternary('', deployment_env) + '<no-reply>@ala.org.au' ) }}
biocollect.system.email.sender = {{ email_sender | default( 'biocollect-' + (deployment_env == 'prod') | ternary('', deployment_env) + '@ala.org.au' ) }}

# Sighting Plugin specific properties
spatial.baseURL={{ spatial_base_url }}

# Default radius when searching for projects with the 'point' option
# Include the units as per Elastic Search's geo_shape doco (e.g. 40km, 500m, etc)
defaultSearchRadiusMetersForPoint=100

# Number of search results before downloads become asynchronous
download.email.threshold=50

api_key={{ api_key }}
google.maps.apiKey={{ google_apiKey }}
google.api.key={{ google_apiKey }}

#MDBA config
mdba.baseUrl={{ mdba_base_url }}
mdba.searchUrl=/occurrences/search?fq=data_hub_uid:dh10#tab_mapView

pdfgen.baseURL={{ pdfgen_base_url | default('https://pdfgen.ala.org.au/') }}

webservice.readTimeout=600000

# Mobile auth
mobile.auth.check.url={{ mobile_auth_check_url | default('https://m.ala.org.au/mobileauth/mobileKey/checkKey') }}

skin.favicon={{ skin_favicon | default('https://www.ala.org.au/app/uploads/2019/01/cropped-favicon-32x32.png')}}

# Terms of Use URL
termsOfUseUrl={{terms_of_use_url | default('https://www.ala.org.au/terms-of-use-biocollect/')}}

# sigthings hub config
individualSightings.pActivity=e61eb018-02a9-4e3b-a4b3-9d6be33d9cbb
individualSightings.dataTypeName=species
individualSightings.outputName=Single Sighting - Advanced
individualSightings.hub=sightings

app.mobile.hub={{ app_mobile_hub | default('acsa') }}

# config used by ala-admin plugin
deployment_env={{ deployment_env | default('') }}
skin.layout={{ skin_layout | default('bs4') }}
temp.dir={{ biocollect_temp_dir | default('/data/biocollect/temp') }}


#common oidc config
security.jwt.enabled=true
webservice.jwt=true
# END

{% if is_cognito | bool == False %}
# CAS
userDetails.url={{ cas_user_details_url }}
userdetails.api.url={{ cas_user_details_api_url }}
userdetails.web.url={{ cas_user_details_url }}/ 
security.oidc.scope= {{ cas_security_oidc_scope }}
security.oidc.clientId={{ cas_biocollect_oidc_clientId }}
security.oidc.secret={{ cas_biocollect_oidc_secret }}
security.oidc.discoveryUri={{ cas_oidc_discovery_uri  }}
security.jwt.discoveryUri={{ cas_jwt_discovery_uri }}
webservice.client-id={{ cas_biocollect_ws_clientId }}
webservice.client-secret={{ cas_biocollect_ws_clientSecret }}
webservice.jwt-scopes={{cas_jwt_scopes | default('users/read ecodata/write_test')}}
userProfile.userIdAttribute=userid
#security.oidc.logoutAction=DEFAULT
#END
{% endif %}

{% if is_cognito | bool == True %}
# Congito related

userDetails.url={{ cognito_user_details_url }}
userdetails.api.url={{ cognito_user_details_api_url }}
userdetails.web.url={{ cognito_user_details_url }}/ 
security.oidc.scope= {{ cognito_security_oidc_scope | default('openid profile email ala/attrs ala/roles') }}
security.oidc.alaUseridClaim=username
security.oidc.logoutAction=cognito
security.core.roleAttribute=ala:role
security.jwt.rolesFromAccessToken=true
security.jwt.userIdClaim=username
security.jwt.roleClaims=cognito:groups
security.oidc.clientId={{ cognito_biocollect_oidc_clientId }}
security.oidc.secret={{ cognito_biocollect_oidc_client_secret }}
security.oidc.discoveryUri={{ cognito_discovery_uri  }}
security.jwt.discoveryUri={{ cognito_jwt_discovery_uri }}
webservice.client-id={{ cognito_webservice_client_id }}
webservice.client-secret={{ cognito_webservice_client_secret }}
webservice.jwt-scopes={{cognito_jwt_scopes | default('users/read ecodata/write_test')}}
security.oidc.logoutUrl={{ cognito_logout_url }}
security.core.default-logout-redirect-uri=/hub/index
# by default userIdAttribute is username
#userProfile.userIdAttribute=username
#END
{% endif %}

speciesCatalog.url= {{ species_catalog_url | default('https://biocache.ala.org.au/archives/nameindexes/latest/combined-20200214.zip') }}
pwa.appUrl={{ pwa_app_url | default('https://biocollect-pwa.test.ala.org.au') }}
pwa.apiKey={{ pwa_api_key | default('') }}